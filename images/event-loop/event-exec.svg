<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="611px" height="407px" version="1.1" content="&lt;mxfile userAgent=&quot;Mozilla/5.0 (Macintosh; Intel Mac OS X 10_13_5) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/67.0.3396.99 Safari/537.36&quot; version=&quot;7.9.5&quot; editor=&quot;www.draw.io&quot;&gt;&lt;diagram id=&quot;64411bff-d135-1c30-b9a0-f5ccf88e0c7b&quot; name=&quot;第 1 页&quot;&gt;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&lt;/diagram&gt;&lt;/mxfile&gt;" style="background-color: rgb(255, 255, 255);"><defs/><g transform="translate(0.5,0.5)"><rect x="170" y="246" width="410" height="130" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(176.5,249.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="149" height="12"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(255, 51, 51); line-height: 1.2; vertical-align: top; width: 150px; white-space: nowrap; word-wrap: normal;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;"><font color="#666666">事件队列（Event Queque）</font></div></div></foreignObject></g><rect x="188.64" y="276" width="83.86" height="20" fill="none" stroke="#000000" pointer-events="none"/><g transform="translate(209.5,279.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="42" height="12"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(255, 51, 51); line-height: 1.2; vertical-align: top; width: 44px; white-space: nowrap; word-wrap: normal; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;"><font color="#000000">宏任务1</font></div></div></foreignObject></g><rect x="280.89" y="276" width="83.86" height="20" fill="none" stroke="#000000" pointer-events="none"/><g transform="translate(301.5,279.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="42" height="12"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(255, 51, 51); line-height: 1.2; vertical-align: top; width: 44px; white-space: nowrap; word-wrap: normal; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;"><font color="#000000">宏任务2</font></div></div></foreignObject></g><rect x="421.59" y="276" width="83.86" height="20" fill="none" stroke="#000000" pointer-events="none"/><g transform="translate(442.5,279.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="42" height="12"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(255, 51, 51); line-height: 1.2; vertical-align: top; width: 44px; white-space: nowrap; word-wrap: normal; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;"><font color="#000000">宏任务n</font></div></div></foreignObject></g><rect x="375" y="276" width="37.27" height="20" fill="none" stroke="#000000" pointer-events="none"/><g transform="translate(387.5,279.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="11" height="12"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(255, 51, 51); line-height: 1.2; vertical-align: top; width: 11px; white-space: nowrap; word-wrap: normal; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;"><font color="#000000">...</font></div></div></foreignObject></g><rect x="188.64" y="306" width="83.86" height="20" fill="none" stroke="#000000" pointer-events="none"/><g transform="translate(200.5,309.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="60" height="12"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(255, 51, 51); line-height: 1.2; vertical-align: top; width: 61px; white-space: nowrap; word-wrap: normal; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;"><font color="#000000">微任务队列</font></div></div></foreignObject></g><g transform="translate(190.5,342.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="376" height="12"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 377px; white-space: nowrap; word-wrap: normal;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;">事件队列里包含两种事件/任务，宏任务(<span>task)</span>、微任务(microtask/job)。</div></div></foreignObject></g><rect x="337" y="0" width="273" height="96" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(338.5,27.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="269" height="40"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(255, 51, 51); line-height: 1.2; vertical-align: top; width: 269px; white-space: normal; word-wrap: normal; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;"><font color="#000000">所有的异步事件（setTimeout、Promise的回调等）会首先进入事件表中，并在<b><u>恰当的时机</u></b>，将异步回调推入<b><u>相应的</u></b>事件队列中。</font></div></div></foreignObject></g><g transform="translate(344.5,2.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="123" height="12"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 124px; white-space: nowrap; word-wrap: normal;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;"><font color="#666666">事件表（Event Table）</font></div></div></foreignObject></g><rect x="0" y="96" width="261" height="110" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(1.5,130.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="257" height="40"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(255, 51, 51); line-height: 1.2; vertical-align: top; width: 257px; white-space: normal; word-wrap: normal; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;"><font color="#000000">函数的调用会生成<b><u>栈帧</u></b>（包含相关的参数及局部变量），并推入栈中。</font><div><font color="#000000">并在<b><u>执行完毕</u></b>后从栈中推出。</font></div></div></div></foreignObject></g><g transform="translate(6.5,99.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="190" height="12"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 191px; white-space: nowrap; word-wrap: normal;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;"><font color="#666666">栈（Stack）/ 执行栈 （Call Stack）</font></div></div></foreignObject></g><rect x="0" y="9" width="257" height="70" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(14.5,37.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="228" height="12"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(255, 51, 51); line-height: 1.2; vertical-align: top; width: 229px; white-space: nowrap; word-wrap: normal; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;"><font color="#000000">存储对象、数据等。垃圾回收检查的地方。</font></div></div></foreignObject></g><g transform="translate(7.5,11.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="65" height="12"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 66px; white-space: nowrap; word-wrap: normal;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;"><font color="#666666">堆（Heap）</font></div></div></foreignObject></g><path d="M 474 96 L 474 171 L 375 171 L 375 239.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 375 244.88 L 371.5 237.88 L 375 239.63 L 378.5 237.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 170 311 L 131 311 L 131 212.37" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 131 207.12 L 134.5 214.12 L 131 212.37 L 127.5 214.12 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 261 151 L 299 151 L 299 48 L 330.63 48" fill="none" stroke="#000000" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="none"/><path d="M 335.88 48 L 328.88 51.5 L 330.63 48 L 328.88 44.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/></g></svg>